{% extends 'base.html' %}
{% block title %}–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å{% endblock %}
{% block content %}
    <h1 class="text-center text-primary">–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏</h1>
    <hr>
<table class="table">
  <thead class="table-dark">
    <tr>
        <th scope="col"><strong style="color: lightblue;">#</strong></th>
        <th scope="col"><strong style="color: lightblue;">Email</strong></th>
        <th scope="col"><strong style="color: lightblue;">–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</strong></th>
        <th scope="col"><strong style="color: lightblue;">–ò–º—è</strong></th>
        <th scope="col"><strong style="color: lightblue;">–§–∞–º–∏–ª–∏—è</strong></th>
        <th scope="col"><strong style="color: lightblue;">–ó–∞–¥–∞—á</strong></th>
      <th scope="col"><strong style="color: lightblue;">Tg ID</strong></th>
        <th scope="col"><strong style="color: red;" class="strong">–î–µ–π—Å—Ç–≤–∏—è</strong></th>
    </tr>
  </thead>
  <tbody>
    {% for person in objects %}
    <tr class="table">
        <td style="background: rgba(0, 0, 0, 0.1)">{{ forloop.counter }}</td>
        <td>{{ person.email }}</td>
        <td>{{ person.created_at }}</td>
        <td>{{ person.first_name }}</td>
        <td>{{ person.last_name }}</td>
        <td>{{ person.task.count }}</td>
        <td>{% if person.tg_id == '' %}–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç{% else %}{{ person.tg_id }}{% endif %}</td>
        <td><a href="{% url 'persons:person_profile' person.id %}" class="btn btn-primary" data-bs-toggle="tooltip" data-bs-placement="top" title="–ü—Ä–æ—Ñ–∏–ª—å">üë®‚Äç</a></td>
    {% endfor %}
    </tr>
  </tbody>
</table>
      <nav aria-label="Page navigation">
            <ul class="pagination">
                {% if objects.has_previous %}
                    <li class="page-item">
                        <a class="page-link" href="?page=1" aria-label="First">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="?page={{ objects.previous_page_number }}" aria-label="Previous">
                            <span aria-hidden="true">&lt;</span>
                        </a>
                    </li>
                {% endif %}

                {% for page in objects.paginator.page_range %}
                    {% if objects.number == page %}
                        <li class="page-item active" aria-current="page">
                            <a class="page-link" href="#">{{ page }}</a>
                        </li>
                    {% else %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ page }}">{{ page }}</a>
                        </li>
                    {% endif %}
                {% endfor %}

                {% if objects.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ objects.next_page_number }}" aria-label="Next">
                            <span aria-hidden="true">&gt;</span>
                        </a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="?page={{ objects.paginator.num_pages }}" aria-label="Last">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>
  </div>
</div>
{% endblock %}